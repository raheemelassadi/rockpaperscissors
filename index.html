<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>

  <button id='r'>rock</button>
  <button id='p'>paper</button>
  <button id='s'>scissors</button>
  <div id="result"></div>
  <div id="score"></div>

    <script>
  
    
    let userScore = 0;
    let computerScore = 0;
    let gameWon = false;
    let playerChoice = '';
    
    function computerPlay() {
      const choices = ['r', 'p', 's'];
      const randomNum = Math.floor(Math.random() * 3);
      return choices[randomNum];
    };

    let rBtn = document.querySelector('#r');
    rBtn.addEventListener('click', () => {
      playerChoice = 'r';
      playRound(playerChoice);
      game();
    });

    let pBtn = document.querySelector('#p');
    pBtn.addEventListener('click', () => {
      playerChoice = 'p';
      playRound(playerChoice);
      game();
    });

    let sBtn = document.querySelector('#s');
    sBtn.addEventListener('click', () => {
      playerChoice = 's';
      playRound(playerChoice);
      game();
    });

    const getDiv = document.querySelector('#result');
    const container = document.createElement('p');
    container.innerHTML = "user wins";

    const score = document.querySelector('#score');
    const scoreContainer = document.createElement('p');
   
    


    function playRound() {
     const computerSelection = computerPlay();
     switch (playerChoice + computerSelection){
      case "rs":
      case "sp":
      case "pr":
        container.innerHTML = "user wins!";
        getDiv.appendChild(container);
        userScore++;
        scoreContainer.innerHTML = `user: ${userScore} computer: ${computerScore}`;
        score.appendChild(scoreContainer);
        console.log('user');
        break;
      case "rp":
      case "ps":  
      case "sr":
        container.innerHTML = "computer wins";
        getDiv.appendChild(container);
        console.log('computer');
        computerScore++;
        scoreContainer.innerHTML = `user: ${userScore} computer: ${computerScore}`;
        score.appendChild(scoreContainer);
        break;
      case "rr":
      case "ss":
      case "pp":
        container.innerHTML = "draw!";
        getDiv.appendChild(container);
        console.log('draw');
        computerScore++;
        userScore++;
        scoreContainer.innerHTML = `user: ${userScore} computer: ${computerScore}`;
        score.appendChild(scoreContainer);
    }
    };

    function reset(){
      userScore = 0;
      computerScore = 0;
    }

    function game(){
        if (userScore === 5){
          gameWon = true;
          alert('user has won the game!');
          reset();
        } else if (computerScore === 5){
          gameWon = true;
          alert('computer has won the game!')
          reset();
        } else gameWon = false;
    };
    </script>
</body>
</html>